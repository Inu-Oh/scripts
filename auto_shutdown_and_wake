# make sure suspend_until is saved in home/username folder - Linux
# must make suspend_until an executable for it to work. Run command:

# chmod +x suspend_until

# run command to edit crontab:

# sudo crontab -e

# add this text to the crontab file, without the hash sing:

# 15 11 * * * /home/username/suspend_until 7:00

# This will run the suspend_unitil script at 11:15PM or however the script is set 

# If the script is not working work on the following script section to change how the computer is suspended

# sudo /usr/sbin/rtcwake -u -m freeze -t $DESIRED &

# For options on how to configure the suspension check the manual with

# man rtcwake

# options are standby, freeze, mem, disk - from least to most power savings
# not all options may be supported 

# Nook: tested disk, mem and freeze - only freeze worked
# Asus Vivobook: tested disk, mem and freeze - mem and freeze worked

# Copy of suspend_until below - credit redgeonline - https://askubuntu.com/a/61717
# ----------------------------------------------------------------------------
ï»¿#!/bin/bash

# Auto suspend and wake-up script
#
# Puts the computer on standby and automatically wakes it up at specified time
#
# Written by Romke van der Meulen <redge.online@gmail.com>
# Minor mods fossfreedom for AskUbuntu
#
# Takes a 24hour time HH:MM as its argument
# Example:
# suspend_until 9:30
# suspend_until 18:45

# ------------------------------------------------------
# Argument check
if [ $# -lt 1 ]; then
    echo "Usage: suspend_until HH:MM"
    exit
fi

# Check whether specified time today or tomorrow
DESIRED=$((`date +%s -d "$1"`))
NOW=$((`date +%s`))
if [ $DESIRED -lt $NOW ]; then
    DESIRED=$((`date +%s -d "$1"` + 24*60*60))
fi

# Kill rtcwake if already running
sudo killall /urs/sbin/rtcwake

# Set RTC wakeup time
# N.B. change "mem" for the suspend option
# find this by "man rtcwake"
sudo /usr/sbin/rtcwake -u -m mem -t $DESIRED &

# feedback
echo "Suspending..."

# give rtcwake some time to make its stuff
sleep 2

# then suspend
# N.B. dont usually require this bit
#sudo pm-suspend

# Any commands you want to launch after wakeup can be placed here
# Remember: sudo may have expired by now

# Wake up with monitor enabled N.B. change "on" for "off" if 
# you want the monitor to be disabled on wake
xset dpms force on

# and a fresh console
clear
echo "Good morning!"
